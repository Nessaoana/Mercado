<!DOCTYPE html>
<html lang="en">

<head>
  <title>FunkoStore</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

  <script>

    $(function () {
      $("#head").load("header.html");
      $("#footer").load("footer.html");
      $("#lateral").load("lateral.html");
    });    

    // pegando a informação que foi enviada, fica guardada na variavel cookie
    var cookie = [];

    var i;
    cookie = getCookie("carrinho");
    console.log("1... ", cookie);
    var itensCarrinho = [];
    itensCarrinho = cookie.split(";");
    console.log(itensCarrinho);

    function deletar (i){
      var x;
      var d; // recebe o indice q vai deletar 
      for(x==0; x<=itensCarrinho.length; x++){
        console.log(itensCarrinho[x]);
        if(itensCarrinho[x] == i){ // compara o valor q quer ser deletado e guarda o indice dele
          d = x;
          console.log(x);
        }
      }
      console.log(d);
      itensCarrinho.splice(d,1);
    }

    //deletar("3");
    itensCarrinho.splice(1,1);
    console.log(itensCarrinho);

    // Para colocar o numero no carrinho
    // pegar o tamanho do cookie e colocar lá do lado kkkkk

    // o que fazer?
    // Temos que fazer um for p/ a variavel cookie, pegar o numero (é o id uqe está no JSON) e ler
    // o JSON de acordo com numeroCookie == json.id
    // Quando pegar o objeto, mostrar as outras informações dele
    // (nome, preço)



    // INTERESSANTE 
    // 1
    // se tiver um número repetido no array cookie, podemos add como quantidade
    // por exemplo, 4 aparece 3 vezes, na hora de mostrar colocamos quantidade "3"
    // 2
    // se fizermos o item 1, podemos colocar os atributos "preco unitario" e
    // "preco total" que é o preco do jsonXquantidade


    // Para excluir:
    // Colocar um botão "x" no item do carrinho que tem o atributo id 
    // excluir de cookie de acordo com o id (fazer uma função...)
    



    // Depois que faz todos os comentários acima envia novamente as informações para a index
    if(cookie == null){
      cookie ="";
    }
    setCookie("carrinho2", cookie );

    $(function () {
      $("#head").load("header.html");
      $("#footer").load("footer.html");
      $("#lateral").load("lateral.html");
    });
  </script>

  <style>
  #footer {
    position: absolute;
    bottom: 0%;
    width: 100%;
  }
  </style>
</head>

<body>
  <div id="head"></div>
    
  <section id="cart_items">
		<div class="container">
      
			<div class="breadcrumbs">
				<ol class="breadcrumb">
				  <li><a href="index.html">Home</a></li>
				  <li class="active">Carrinho</li>
				</ol>
      </div>
      
			<div class="table-responsive cart_info">
				<table class="table table-condensed">
					<thead>
              <tr>
                <th>Item</th>
                <th>Descrição</th>
                <th>Preço</th>
                <th>Quantidade</th>
                <th>Total</th>
              </tr>
						</tr>
					</thead>					
				</table>
			</div>
		</div>
	</section>
  
  <div id="footer"></div>

</body>



</html>